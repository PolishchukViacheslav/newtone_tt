{"version":3,"sources":["app/functions.js","components/cart/CartSlice.js","components/products/productsSlice.js","selectors/cartSelector.js","components/cart/CartProducts.jsx","components/cart/Cart.jsx","components/layout/LayoutHeader.jsx","components/layout/Layout.jsx","pages/CartPage.jsx","components/products/product/WeightQuantity.jsx","components/products/product/ProductSpecialPrice.jsx","components/products/product/Product.jsx","components/products/Products.jsx","pages/ProductsPage.jsx","components/StartButton.jsx","pages/StartPage.jsx","App.jsx","app/store.js","serviceWorker.js","index.jsx"],"names":["priceReducer","purchases","reduce","subTotal","product","Object","prototype","hasOwnProperty","call","specialPrice","cartWeight","price","weight","specialPriceQuantity","Math","floor","regularPriceQuantity","purchasesSlice","createSlice","name","initialState","reducers","setPurchases","state","action","payload","delProduct","withoutDeleted","keys","actions","selectPurchases","cart","getProducts","createAsyncThunk","endpoint","a","fetch","fetchPromise","json","results","productsSlice","list","img","per","isLoading","error","setProducts","setIsLoading","setError","extraReducers","fulfilled","pending","rejected","selectProducts","products","cartSelector","createSelector","forEach","item","productData","find","push","CartProducts","useSelector","dispatch","useDispatch","map","key","className","src","alt","type","onClick","Cart","history","useHistory","totalPrice","useMemo","savingsAmount","undefined","LayoutHeader","Layout","props","children","CartPage","WeightQuantity","unit","initWeight","useState","quantity","setQuantity","role","upDatedQuantity","Number","value","onChange","validInput","target","replace","length","onBlur","ProductSpecialPrice","terms","Product","data","capitalizedName","toUpperCase","Products","ProductsPage","StartButton","StartPage","App","exact","path","component","configureStore","reducer","productsReducer","purchasesReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.56ee46f8.chunk.js","sourcesContent":["/**\n *\n * @param {Array} purchases array of objects. Reduce only regular price without any specials\n */\nexport const onlyRegularPriceReducer = (purchases) => {\n  const total = purchases.reduce((subTotal, product) => {\n    const { cartWeight, price } = product;\n\n    return subTotal + (cartWeight * price);\n  }, 0);\n\n  return total;\n};\n\n/**\n *\n * @param {Array} purchases array of objects. Reduce price with all conditions\n */\nexport const priceReducer = (purchases) => {\n  const total = purchases.reduce((subTotal, product) => {\n    if (Object.prototype.hasOwnProperty.call(product, 'specialPrice')) {\n      const { specialPrice, cartWeight, price } = product;\n      if ((cartWeight / specialPrice.weight) > 1) {\n        const specialPriceQuantity = Math.floor(cartWeight / specialPrice.weight);\n        const regularPriceQuantity = cartWeight\n        % (specialPriceQuantity * specialPrice.weight);\n        const productTotalCost = (specialPriceQuantity * specialPrice.price)\n        + (regularPriceQuantity * price);\n\n        return subTotal + productTotalCost;\n      }\n      return subTotal + (cartWeight * price);\n    }\n    return subTotal + (product.cartWeight * product.price);\n  }, 0);\n  return total;\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const purchasesSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    purchases: {},\n  },\n  reducers: {\n    setPurchases: (state, action) => ({\n      ...state,\n      purchases: {\n        ...state.purchases,\n        ...action.payload,\n      },\n    }),\n    delProduct: (state, action) => {\n      const { [action.payload]: deleted, ...withoutDeleted } = state.purchases;\n      if (!Object.keys(state.purchases)) {\n        return state;\n      }\n\n      return {\n        ...state,\n        purchases: withoutDeleted,\n      };\n    },\n  },\n});\n\nexport const { setPurchases, delProduct } = purchasesSlice.actions;\n\nexport const selectPurchases = (state) => state.cart.purchases;\n\nexport default purchasesSlice.reducer;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\nexport const getProducts = createAsyncThunk('products/getProducts', async (endpoint) => {\n  const fetchPromise = await fetch(endpoint);\n  const { results } = await fetchPromise.json();\n  return results;\n});\n\nexport const productsSlice = createSlice({\n  name: 'products',\n  initialState: {\n    list: [\n      {\n        name: 'banana',\n        img: 'https://content.silpo.ua/sku/ecommerce/3/480x480wwm/32485_480x480wwm_96440ee6-d6f0-e532-2aa7-422557c42cfc.png',\n        price: 10,\n        per: 'kg',\n      },\n      {\n        name: 'apple',\n        img: 'https://content.silpo.ua/sku/ecommerce/15/480x480wwm/152947_480x480wwm_c7692e8f-ee6a-375d-f624-cbef6ba3f591.png',\n        price: 8,\n        per: 'kg',\n      },\n      {\n        name: 'papaya',\n        img: 'https://content.silpo.ua/sku/ecommerce/33/480x480wwm/339508_480x480wwm_74615496-1da2-f90a-f50a-a973f3b59875.png',\n        price: 10,\n        specialPrice: {\n          price: 25,\n          weight: 3,\n        },\n        per: 'kg',\n      },\n    ],\n    isLoading: false,\n    error: '',\n  },\n  reducers: {\n    setProducts: (state, action) => ({\n      ...state,\n      list: action.payload,\n    }),\n    setIsLoading: (state, action) => ({\n      ...state,\n      isLoading: action.payload,\n    }),\n    setError: (state, action) => ({\n      ...state,\n      error: action.payload,\n    }),\n  },\n  extraReducers: {\n    [getProducts.fulfilled]: (state, action) => ({\n      ...state,\n      list: action.payload,\n      isLoading: false,\n      error: '',\n    }),\n    [getProducts.pending]: (state) => ({\n      ...state,\n      isLoading: true,\n    }),\n    [getProducts.rejected]: (state, action) => ({\n      ...state,\n      isLoading: false,\n      error: action.payload,\n    }),\n  },\n});\n\nexport const { setProducts, setIsLoading, setError } = productsSlice.actions;\n\nexport const selectProducts = (state) => state.products.list;\n\nexport default productsSlice.reducer;\n","import { createSelector } from 'reselect';\nimport { selectPurchases } from '../components/cart/CartSlice';\nimport { selectProducts } from '../components/products/productsSlice';\n\nexport const cartSelector = createSelector(\n  selectProducts,\n  selectPurchases,\n  (products, purchases) => {\n    const cart = [];\n    Object.keys(purchases).forEach((item) => {\n      const productData = products.find((product) => product.name === item);\n      cart.push({\n        ...productData,\n        cartWeight: purchases[item],\n      });\n    });\n    return cart;\n  },\n);\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { cartSelector } from '../../selectors/cartSelector';\nimport { priceReducer } from '../../app/functions';\nimport { delProduct } from './CartSlice';\n\nexport const CartProducts = () => {\n  const cart = useSelector(cartSelector);\n  const dispatch = useDispatch();\n\n  return (\n    <ul>\n      {cart.map((product) => (\n        <li key={product.name} className=\"cart__product details\">\n          <div className=\"details__presentation\">\n            <img src={product.img} alt=\"product\" className=\"details__img\" />\n            <span className=\"details__weight\">{`weight ${product.cartWeight}${product.per}`}</span>\n            <span className=\"details__price\">{`price $${product.price}`}</span>\n            {product.specialPrice\n            && (\n            <span className=\"details__price--special\">\n              {`special $${product.specialPrice.price}/${product.specialPrice.weight}${product.per}`}\n            </span>\n            )}\n          </div>\n          <div className=\"details__cost\">\n            <span className=\"details__total\">{`total $${priceReducer([product])}`}</span>\n          </div>\n          <button\n            type=\"button\"\n            className=\"details__remove_btn\"\n            onClick={() => dispatch(delProduct(product.name))}\n          >\n            x\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { onlyRegularPriceReducer, priceReducer } from '../../app/functions';\nimport { cartSelector } from '../../selectors/cartSelector';\nimport './Cart.scss';\nimport { CartProducts } from './CartProducts';\n\nexport const Cart = () => {\n  const cart = useSelector(cartSelector);\n  const history = useHistory();\n  const handleRouteToProducts = () => {\n    history.push('/products');\n  };\n\n  const totalPrice = useMemo(() => priceReducer(cart), [cart]);\n  const savingsAmount = (onlyRegularPriceReducer(cart) - totalPrice) || undefined;\n\n  return (\n    <div className=\"cart\">\n      <div className=\"cart__products_area\">\n        <CartProducts />\n      </div>\n      <div className=\"cart__payments payments\">\n        <div className=\"payments__item payment\">\n          <span className=\"payment__title\">Subtotal</span>\n          <span className=\"payment__value\">{`$${totalPrice}`}</span>\n        </div>\n        {savingsAmount && (\n        <div className=\"payments__item payment\">\n          <span className=\"payment__title\">You saved</span>\n          <span className=\"payment__value\">{`$${savingsAmount}`}</span>\n        </div>\n        )}\n        <div className=\"payments__item payment\">\n          <span className=\"payment__title\">Delivery</span>\n          <span className=\"payment__value\">Free</span>\n        </div>\n        <div className=\"payments__item payment\">\n          <span className=\"payment__title\">Taxes and fees</span>\n          <span className=\"payment__value\">- -</span>\n        </div>\n        <div className=\"payments__item total_payment\">\n          <span className=\"total_payment__title\">Est.total</span>\n          <span className=\"total_payment__value\">{`$${totalPrice}`}</span>\n        </div>\n        <div className=\"payments__buttons\">\n          <button type=\"button\" className=\"payments__pay_button\">\n            Pay\n          </button>\n          <button type=\"button\" className=\"payments__shop_button\" onClick={handleRouteToProducts}>\n            Go shopping\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './LayoutHeader.scss';\n\nexport const LayoutHeader = () => {\n  const history = useHistory();\n  const handleRouteToCart = () => {\n    history.push('/cart');\n  };\n\n  return (\n    <>\n      <h1 className=\"header__title\">Horns&Hooves</h1>\n      <button\n        type=\"button\"\n        className=\"header__button\"\n        onClick={handleRouteToCart}\n      >\n        Cart\n      </button>\n    </>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Layout.scss';\nimport { LayoutHeader } from './LayoutHeader';\n\nexport const Layout = (props) => {\n  const { children } = props;\n  return (\n    <div className=\"layout\">\n      <div className=\"layout__header header\">\n        <LayoutHeader />\n      </div>\n      {children}\n    </div>\n  );\n};\n\nLayout.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n","import React from 'react';\nimport { Cart } from '../components/cart/Cart';\nimport { Layout } from '../components/layout/Layout';\n\nexport const CartPage = () => (\n  <Layout>\n    <Cart />\n  </Layout>\n);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './WeightQuantity.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { delProduct, selectPurchases, setPurchases } from '../../cart/CartSlice';\n\nexport const WeightQuantity = ({ name, unit }) => {\n  const initWeight = useSelector(selectPurchases)[name] || 0;\n  const [quantity, setQuantity] = useState(initWeight);\n  const dispatch = useDispatch();\n\n  const handleIncrementWeight = () => {\n    const upDatedQuantity = Number(quantity) + 1;\n    if (upDatedQuantity > 99) {\n      return;\n    }\n    setQuantity(upDatedQuantity);\n    dispatch(setPurchases({ [name]: upDatedQuantity }));\n  };\n\n  const handleDecrementWeight = () => {\n    if (quantity === 0) {\n      return;\n    }\n\n    const upDatedQuantity = Number(quantity) - 1;\n    if (upDatedQuantity === 0) {\n      dispatch(delProduct(name));\n      setQuantity(upDatedQuantity);\n      return;\n    }\n\n    setQuantity(upDatedQuantity);\n    dispatch(setPurchases({ [name]: upDatedQuantity }));\n  };\n\n  const handleWeightChanges = ({ target: { value } }) => {\n    const validationPattern = /^0+|\\D$/;\n    const validInput = value.replace(validationPattern, '');\n\n    if (validInput.length > 2) {\n      return;\n    }\n    setQuantity(Number(validInput));\n    dispatch(setPurchases({ [name]: Number(validInput) }));\n  };\n\n  const handleInputBlur = () => {\n    if (quantity === '') {\n      setQuantity(0);\n      dispatch(delProduct(name));\n    }\n  };\n\n  const handleInputClick = () => {\n    if (!quantity) {\n      setQuantity('');\n    }\n  };\n\n  return (\n    <div className=\"product__button weight_quantity\">\n      <span\n        className=\"weight_quantity__minus\"\n        role=\"presentation\"\n        onClick={handleDecrementWeight}\n      >\n        -\n      </span>\n      <span className=\"weight_quantity__quantity_field\">\n        <input\n          type=\"text\"\n          className=\"weight_quantity__input\"\n          value={quantity}\n          onChange={handleWeightChanges}\n          onBlur={handleInputBlur}\n          onClick={handleInputClick}\n        />\n        <span className=\"weight_quantity__unit\">{unit}</span>\n      </span>\n      <span\n        className=\"weight_quantity__plus\"\n        role=\"presentation\"\n        onClick={handleIncrementWeight}\n      >\n        +\n      </span>\n    </div>\n  );\n};\n\nWeightQuantity.propTypes = {\n  unit: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ProductSpecialPrice = ({ terms, unit }) => (\n  <span className=\"product__special_price\">\n    {`special price ${terms.price}$/${terms.weight}${unit}`}\n  </span>\n);\n\nProductSpecialPrice.propTypes = {\n  unit: PropTypes.string.isRequired,\n  terms: PropTypes.shape({\n    price: PropTypes.number,\n    weight: PropTypes.number,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Product.scss';\nimport { WeightQuantity } from './WeightQuantity';\nimport { ProductSpecialPrice } from './ProductSpecialPrice';\n\nexport const Product = (props) => {\n  const { data: product } = props;\n  const capitalizedName = product.name.replace(/^./, product.name[0].toUpperCase());\n  return (\n    <li className=\"product\">\n      <img src={product.img} alt=\"product foto\" className=\"product__foto\" />\n      <div className=\"product__description\">\n        <div className=\"product__title_area\">\n          <h2 className=\"product__title\">{capitalizedName}</h2>\n          <h5 className=\"product__weight_units\">{product.per}</h5>\n        </div>\n        {product.specialPrice\n        && (\n        <ProductSpecialPrice\n          terms={product.specialPrice}\n          unit={product.per}\n        />\n        )}\n        <div className=\"product__footer\">\n          <div className=\"product__price\">{product.price}</div>\n          <WeightQuantity unit={product.per} name={product.name} />\n        </div>\n      </div>\n    </li>\n  );\n};\nProduct.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string,\n    img: PropTypes.string,\n    price: PropTypes.number,\n    per: PropTypes.string,\n    specialPrice: PropTypes.shape({\n      price: PropTypes.number,\n      weight: PropTypes.number,\n    }),\n  }).isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Product } from './product/Product';\nimport './Products.scss';\nimport { selectProducts } from './productsSlice';\n\nexport const Products = () => {\n  const products = useSelector(selectProducts);\n\n  return (\n    <div className=\"products\">\n      <ul className=\"products__list\">\n        {products.map((item) => (\n          <Product key={item.name} data={item} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Layout } from '../components/layout/Layout';\nimport { Products } from '../components/products/Products';\n\nexport const ProductsPage = () => (\n  <Layout>\n    <Products />\n  </Layout>\n);\n","import React from 'react';\nimport './StartButton.scss';\nimport { useHistory } from 'react-router-dom';\n\nexport const StartButton = () => {\n  const history = useHistory();\n  const handleStart = () => {\n    history.push('/products');\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className=\"start_button\"\n      onClick={handleStart}\n    >\n      GO!\n    </button>\n  );\n};\n","import React from 'react';\nimport { Layout } from '../components/layout/Layout';\nimport { StartButton } from '../components/StartButton';\n\nexport const StartPage = () => (\n  <Layout>\n    <StartButton />\n  </Layout>\n);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.scss';\nimport { CartPage } from './pages/CartPage';\nimport { ProductsPage } from './pages/ProductsPage';\nimport { StartPage } from './pages/StartPage';\n\nexport const App = () => (\n  <div className=\"App\">\n    <Switch>\n      <Route exact path=\"/\" component={StartPage} />\n      <Route exact path=\"/products\" component={ProductsPage} />\n      <Route exact path=\"/cart\" component={CartPage} />\n      <Route component={StartPage} />\n    </Switch>\n  </div>\n);\n","import { configureStore } from '@reduxjs/toolkit';\nimport productsReducer from '../components/products/productsSlice';\nimport purchasesReducer from '../components/cart/CartSlice';\n\nexport default configureStore({\n  reducer: {\n    products: productsReducer,\n    cart: purchasesReducer,\n  },\n});\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'normalize.css';\nimport './index.scss';\nimport { App } from './App';\nimport store from './app/store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}